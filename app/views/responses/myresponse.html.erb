<%= render partial: 'partials/navbar', locals: { user: @user, locale: true } %>

<div class="container-sm p-2">
  <!-- <div class="alert alert-info" role="alert">
    <%= notice %>
  </div> -->
  <div class="container-md mb-3"><%= link_to "Back", :back , class:"btn btn-info mt-3" %></div>
  <h1 class="text-center fw-bold mb-3">Your Responses</h1>

  <div class="responses container">
    <% @responses.each do |response| %>
    <div class="card mb-2">
      <div class="card-body">
        <h5 class="card-title"><%= render response %></h5>
        <div style="width:max-content; padding:5px; margin:2px 0;">
          <% if response.validation.nil? %>
            <span class="text-primary"><%= "Validation in progress 🚀"%></span>
          <% elsif response.validation == true %>
            <span class="text-success"><%= "Successful validation ✅"%></span>
          <% elsif response.validation == false%>
            <span class="text-danger"><%= "Validation unsuccessful ❌"%></span>
          <% end %>
        </div>
        <p>
          <strong>Credits</strong>: <%= response.credit_score%>
        </p>
        <%= link_to "Credit Response", my_credit_response_path(id: response.id, userid: @user.id), class:'btn btn-outline-primary btn-md mt-2' %>
        <%= link_to "Form Response", display_response_path(id: response.id, userid: @user.id), class:'btn btn-outline-secondary btn-md mt-2' %>
        <%= link_to "Print Response", print_response_path(id: response.id, userid: @user.id, format: :pdf), class:'btn btn-success btn-md mt-2' %>
      </div>
    </div>
    <% end %>
  </div>
</div>